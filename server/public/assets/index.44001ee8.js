var I=Object.defineProperty,Q=Object.defineProperties;var J=Object.getOwnPropertyDescriptors;var j=Object.getOwnPropertySymbols;var V=Object.prototype.hasOwnProperty,Y=Object.prototype.propertyIsEnumerable;var O=(t,n,s)=>n in t?I(t,n,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[n]=s,v=(t,n)=>{for(var s in n||(n={}))V.call(n,s)&&O(t,s,n[s]);if(j)for(var s of j(n))Y.call(n,s)&&O(t,s,n[s]);return t},A=(t,n)=>Q(t,J(n));import{p as K,c as D,a as L,d as B,r as W,b as X,e as Z,f as ee,g as te,h as p,j as e,i as c,T as ae,k as U,u as S,R as w,l as le,m as b,n as se,o as $,q as z,F as ne,s as ce,t as h,v as ie,Q as oe,w as re,x as T,L as de,C as me,y as ue,P as pe,z as he,B as fe}from"./vendor.a453dc93.js";const xe=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))l(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const d of o.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function s(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerpolicy&&(o.referrerPolicy=i.referrerpolicy),i.crossorigin==="use-credentials"?o.credentials="include":i.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function l(i){if(i.ep)return;i.ep=!0;const o=s(i);fetch(i.href,o)}};xe();const ge="FETCH_USER",H="FETCH_USER_COMPLETED",_="SET_USER",R={fetchUser:t=>({type:ge,id:t}),fetchUserCompleted:t=>({type:H,user:t}),setUser:t=>({type:_,user:t})},Ne=null,be=K((t=Ne,n)=>{switch(n.type){case _:return n.user;case H:return n.user;default:return t}}),ve=t=>D({App:L(t,D({User:be}))}),we={key:"adexocean:seller",storage:B,blacklist:["User"]},ye={key:"adexocean",storage:B,transforms:[W("user",{expireSeconds:3600*24,expiredState:null})]};let y=null;const Ce=t=>{const l=[X(...[])],i=L(we,ve(ye)),o=Z(...l);y=ee(i,t,o);let d=te(y);return{store:y,persistor:d}};const ke=p.exports.createContext(null);let Se="";const Te=({user:t,children:n})=>{const[s,l]=p.exports.useState(t),d={user:s,accessToken:Se,logout:async()=>{s&&(l(null),y.dispatch(R.setUser(null)))},updateUser:N=>{N&&(l(N),y.dispatch(R.setUser(N)))}};return e(ke.Provider,{value:d,children:n})},f={home:"/",checkout:"/checkout",address:"/address"};function Re(){return c("div",{className:"w-full flex flex-row h-[calc(100%-92px)] items-center overflow-y-scroll p-4 m-auto place-content-center",children:[e("h1",{class:"text-9xl font-extrabold tracking-widest",children:"404"}),e("div",{class:"bg-secondary   text-secondary-content px-2 text-lg rounded rotate-12 absolute",children:"Page Not Found"})]})}function M(t){return e("div",{className:`loading-spinner  opacity-  bg-transparent ${t.show?"block":"hidden"}`,children:e(ae,{color:"#ff5724",height:80,width:80})})}const q="http://localhost:4000/api",Ee=async()=>{try{const t=q+"/tickets",n={["Content-Type"]:"application/json",Authorization:"Bearer "},l=await U(t,{method:"get",headers:n});if(l.data&&l.data.data)return{success:!0,data:l.data.data}}catch{return{success:!1}}return{success:!1}},Pe=async t=>{try{const n=q+"/customer",s={["Content-Type"]:"application/json",Authorization:"Bearer "},i=await U(n,{method:"post",headers:s,data:JSON.stringify(v({},t))});if(i.data&&i.data.data)return{success:!0,data:i.data.data}}catch{return{success:!1}}return{success:!1}},Ae=async t=>{try{const n=q+"/order",s={["Content-Type"]:"application/json",Authorization:"Bearer "},i=await U(n,{method:"post",headers:s,data:JSON.stringify(v({},t))});if(i.data&&i.data.data)return{success:!0,data:i.data.data}}catch{return{success:!1}}return{success:!1}};function Ue(t){const n=S(),{data:s}=t,l=()=>{n(f.address,{state:s})};return c("div",{className:"p-6 mt-1 mb-1 max-w-md bg-white rounded-lg border border-gray-200 shadow-md dark:bg-gray-800 dark:border-gray-700",children:[e("h5",{className:"mb-2 text-2xl font-bold tracking-tight text-gray-900 dark:text-white",children:s==null?void 0:s.name}),c("div",{className:"text-left italic",children:["SGD$",((s==null?void 0:s.price)||0)+".00"]}),e("div",{className:"mb-3 font-normal text-gray-700 dark:text-gray-400",children:((s==null?void 0:s.desc)||"").split(`
`).map((i,o)=>c("p",{children:[i," "]},`${s==null?void 0:s.name}_des_${o}`))}),c("button",{onClick:l,className:"btn btn-md inline-flex  py-2 px-3 text-sm font-medium text-center text-white bg-blue-700 rounded-lg hover:bg-blue-800 focus:ring-4 focus:outline-none focus:ring-blue-300 dark:bg-blue-600 dark:hover:bg-blue-700 dark:focus:ring-blue-800",children:["Buy Now",e("svg",{className:"ml-2 -mr-1 w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:e("path",{"fill-rule":"evenodd",d:"M10.293 3.293a1 1 0 011.414 0l6 6a1 1 0 010 1.414l-6 6a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-4.293-4.293a1 1 0 010-1.414z",clipRule:"evenodd"})})]})]})}function $e(){S();const[t,n]=p.exports.useState({status:"loading"});return p.exports.useEffect(()=>{Ee().then(s=>{n({status:"loaded",data:s.data||[]})})},[]),c(w.Fragment,{children:[e("div",{className:"w-full flex flex-row h-[calc(100%-92px)] overflow-y-scroll p-4 m-auto place-content-center",children:e("div",{className:"flex flex-col items-center",children:((t==null?void 0:t.data)||[]).map((s,l)=>e(Ue,{data:s},`tk_${l}`))})}),e(M,{show:t.status==="loading"})]})}const Me=t=>e("svg",{className:"h-6 w-6",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 16 16",children:e("path",{fill:"currentColor",d:"M16 7.992C16 3.58 12.416 0 8 0S0 3.58 0 7.992c0 2.43 1.104 4.62 2.832 6.09c.016.016.032.016.032.032c.144.112.288.224.448.336c.08.048.144.111.224.175A7.98 7.98 0 0 0 8.016 16a7.98 7.98 0 0 0 4.48-1.375c.08-.048.144-.111.224-.16c.144-.111.304-.223.448-.335c.016-.016.032-.016.032-.032c1.696-1.487 2.8-3.676 2.8-6.106zm-8 7.001c-1.504 0-2.88-.48-4.016-1.279c.016-.128.048-.255.08-.383a4.17 4.17 0 0 1 .416-.991c.176-.304.384-.576.64-.816c.24-.24.528-.463.816-.639c.304-.176.624-.304.976-.4A4.15 4.15 0 0 1 8 10.342a4.185 4.185 0 0 1 2.928 1.166c.368.368.656.8.864 1.295c.112.288.192.592.24.911A7.03 7.03 0 0 1 8 14.993zm-2.448-7.4a2.49 2.49 0 0 1-.208-1.024c0-.351.064-.703.208-1.023c.144-.32.336-.607.576-.847c.24-.24.528-.431.848-.575c.32-.144.672-.208 1.024-.208c.368 0 .704.064 1.024.208c.32.144.608.336.848.575c.24.24.432.528.576.847c.144.32.208.672.208 1.023c0 .368-.064.704-.208 1.023a2.84 2.84 0 0 1-.576.848a2.84 2.84 0 0 1-.848.575a2.715 2.715 0 0 1-2.064 0a2.84 2.84 0 0 1-.848-.575a2.526 2.526 0 0 1-.56-.848zm7.424 5.306c0-.032-.016-.048-.016-.08a5.22 5.22 0 0 0-.688-1.406a4.883 4.883 0 0 0-1.088-1.135a5.207 5.207 0 0 0-1.04-.608a2.82 2.82 0 0 0 .464-.383a4.2 4.2 0 0 0 .624-.784a3.624 3.624 0 0 0 .528-1.934a3.71 3.71 0 0 0-.288-1.47a3.799 3.799 0 0 0-.816-1.199a3.845 3.845 0 0 0-1.2-.8a3.72 3.72 0 0 0-1.472-.287a3.72 3.72 0 0 0-1.472.288a3.631 3.631 0 0 0-1.2.815a3.84 3.84 0 0 0-.8 1.199a3.71 3.71 0 0 0-.288 1.47c0 .352.048.688.144 1.007c.096.336.224.64.4.927c.16.288.384.544.624.784c.144.144.304.271.48.383a5.12 5.12 0 0 0-1.04.624c-.416.32-.784.703-1.088 1.119a4.999 4.999 0 0 0-.688 1.406c-.016.032-.016.064-.016.08C1.776 11.636.992 9.91.992 7.992C.992 4.14 4.144.991 8 .991s7.008 3.149 7.008 7.001a6.96 6.96 0 0 1-2.032 4.907z"})}),G=()=>e("svg",{className:"w-10 h-10",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",role:"img",width:"25px",height:"25px",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 24 24",children:e("path",{fill:"currentColor",d:"M21 11H6.414l5.293-5.293l-1.414-1.414L2.586 12l7.707 7.707l1.414-1.414L6.414 13H21z"})}),qe=()=>e("svg",{className:"w-5 h-5 fill-current ml-1",xmlns:"http://www.w3.org/2000/svg",role:"img",width:"1em",height:"1em",preserveAspectRatio:"xMidYMid meet",viewBox:"0 0 1024 1024",children:e("path",{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z",fill:"currentColor"})}),Fe=le().shape({prefix:b().nullable().required("Prefix is required"),firstName:b().nullable().required("FirstName is required"),sureName:b().nullable().required("SureName is required"),email:b().nullable().required("Email is required"),age:se().nullable().required("Age is required"),nationality:b().nullable().required("Nationality is required"),company:b().nullable().required("Company/Organisation is required"),jobTitle:b().nullable().required("Job Title is required")}),je={prefix:"",firstName:"",sureName:"",email:"",gender:"male",age:"",nationality:"",company:"",jobTitle:"",phone:""},Oe=["Mr.","Mrs.","Ms.","Miss","Mx.","Dr.","Prof.","Rev."],De=t=>{const n=z(),s=S(),l=n.state,[i,o]=p.exports.useState(!1),[d,N]=p.exports.useState(je),{user:x}=t;p.exports.useEffect(()=>{l||s(f.home)},[l]),p.exports.useEffect(()=>{if(x){let m=v({},x);m.Orders&&delete m.Orders,N(A(v({},m),{sureName:(m==null?void 0:m.lastName)||""}))}},[x]);const C=()=>{s(f.home)},E=async m=>{o(!0);const r=await Pe(A(v({},m),{lastName:(m==null?void 0:m.sureName)||""}));r.success&&t.setUser&&t.setUser(r.data),setTimeout(()=>{o(!1),s(f.checkout,{state:l})},2e3)};return c(w.Fragment,{children:[e("div",{className:"w-full flex flex-row h-[calc(100%-92px)] items-center overflow-y-scroll m-auto place-content-center",children:e(ne,{initialValues:d,enableReinitialize:!0,onSubmit:E,validationSchema:Fe,children:({dirty:m,values:r,errors:a,touched:k,isValid:g,handleChange:u,handleSubmit:P,handleReset:at,setFieldValue:lt})=>e(ce,{autoComplete:"off",children:c("div",{className:"px-0 mt-4 mx-0",children:[e("div",{onClick:C,className:"btn mt-40 ",children:e(G,{})}),e("h5",{className:"mb-2 mt-1 text-2xl font-bold tracking-tight text-white",children:l==null?void 0:l.name}),c("div",{className:"px-0 mt-2 mx-0",children:[c("select",{className:"select select-primary w-full",name:"prefix",value:r.prefix,onChange:u,children:[e("option",{value:"",disabled:!0,selected:!0,children:"Choose One Prefix"}),Oe.map((F,st)=>e("option",{value:F,children:F}))]}),(a==null?void 0:a.prefix)&&e("span",{className:"text-red-500 self-start ",children:a==null?void 0:a.prefix})]}),c("div",{className:"px-0 mt-2 mx-0 flex flex-row",children:[c("div",{className:"flex flex-col",children:[e(h,{component:"input",name:"firstName",placeholder:"First Name",value:r.firstName,onChange:u,autoComplete:"disabled",className:"input input-primary w-full"}),(a==null?void 0:a.firstName)&&e("span",{className:"text-red-500 self-start ",children:a==null?void 0:a.firstName})]}),c("div",{className:"flex flex-col",children:[e(h,{component:"input",name:"sureName",placeholder:"Sure Name",value:r.sureName,onChange:u,autoComplete:"disabled",className:"input input-primary ml-2 w-full"}),(a==null?void 0:a.sureName)&&e("span",{className:"text-red-500 self-start ",children:a==null?void 0:a.sureName})]})]}),c("div",{className:"px-0 mt-2 mx-0",children:[e(h,{component:"input",name:"email",placeholder:"Email",value:r.email,onChange:u,autoComplete:"disabled",className:"input input-primary  w-full"}),(a==null?void 0:a.email)&&e("span",{className:"text-red-500 self-start ",children:a==null?void 0:a.email})]}),c("div",{className:"px-0 mt-2 mx-0",children:[e(h,{component:"input",name:"phone",placeholder:"Phone",value:r.phone,onChange:u,autoComplete:"disabled",className:"input input-primary  w-full"}),(a==null?void 0:a.phone)&&e("span",{className:"text-red-500 self-start",children:a==null?void 0:a.phone})]}),c("div",{role:"group","aria-labelledby":"gender-group",className:"px-0 mt-2 mx-0 flex flex-row",children:[e("label",{className:"label",children:"Gender"}),c("label",{className:"cursor-pointer label justify-start",children:[e(h,{id:"male",type:"radio",name:"gender",className:"radio radio-primary min-w-[24px]",value:"male",onChange:u}),e("span",{className:"label-text pl-4",children:"Male"})]}),c("label",{className:"cursor-pointer label justify-start",children:[e(h,{id:"female",type:"radio",name:"gender",className:"radio radio-primary min-w-[24px]",value:"female",onChange:u}),e("span",{className:"label-text pl-4",children:"Female"})]}),c("label",{className:"cursor-pointer label justify-start",children:[e(h,{id:"other",type:"radio",name:"gender",className:"radio radio-primary min-w-[24px]",value:"other",onChange:u}),e("span",{className:"label-text pl-4",children:"Other"})]})]}),c("div",{className:"px-0 mt-2 mx-0",children:[e(h,{component:"input",name:"age",type:"number",placeholder:"Age",value:r.age,onChange:u,autoComplete:"disabled",className:"input input-primary  w-full"}),(a==null?void 0:a.age)&&e("span",{className:"text-red-500 self-start ",children:a==null?void 0:a.age})]}),c("div",{className:"px-0 mt-2 mx-0",children:[e(h,{component:"input",name:"nationality",type:"text",placeholder:"Nationality",value:r.nationality,onChange:u,autoComplete:"disabled",className:"input input-primary  w-full"}),(a==null?void 0:a.nationality)&&e("span",{className:"text-red-500 self-start ",children:a==null?void 0:a.nationality})]}),c("div",{className:"px-0 mt-2 mx-0",children:[e(h,{component:"input",name:"company",placeholder:"Company/Organisation",value:r.company,onChange:u,autoComplete:"disabled",className:"input input-primary  w-full"}),(a==null?void 0:a.company)&&e("span",{className:"text-red-500 self-start ",children:a==null?void 0:a.company})]}),c("div",{className:"px-0 mt-2 mx-0",children:[e(h,{component:"input",name:"jobTitle",placeholder:"Job Title",value:r.jobTitle,onChange:u,autoComplete:"disabled",className:"input input-primary  w-full"}),(a==null?void 0:a.jobTitle)&&e("span",{className:"text-red-500 self-start ",children:a==null?void 0:a.jobTitle})]}),e("div",{className:"flex flex-row p-3 w-full justify-around",children:c("button",{type:"submit",disabled:!m||i,className:"ml-auto py-3 h-12 w-24 btn btn-primary",children:["Next",e(qe,{})]})})]})})})}),e(M,{show:i})]})},Le=t=>({user:t.App.User}),Be=t=>({setUser:n=>t(R.setUser(n))});var ze=$(Le,Be)(De);const He=t=>{const n=S(),l=z().state,[i,o]=p.exports.useState(!1),[d,N]=p.exports.useState(null),{user:x}=t;console.log("user",x,`
 ticket`,l,"qr",d),p.exports.useEffect(()=>{(!l||!x)&&n(f.home)},[l,x]);const C=()=>{n(f.home)},E=async()=>{o(!0);const r=ie(),a="pending",k=l.id,g=x.id,P=await Ae({status:a,qrCode:r,TicketId:k,CustomerId:g,note:""});console.log("res of order",P),P.success&&(N(r),o(!1)),o(!1)},m=()=>e("div",{className:"w-full flex flex-row h-[calc(100%-92px)] overflow-y-scroll p-4 m-auto place-content-center",children:c("div",{className:"flex flex-col",children:[e(oe,{id:"qr-gen",value:d,size:290,level:"H",includeMargin:!0}),c("div",{className:"mt-2 flex flex-row",children:[e("h5",{children:"Click for Ticket"}),e("button",{className:"ml-auto btn btn-primary",onClick:()=>{const k=document.getElementById("qr-gen").toDataURL("image/png").replace("image/png","image/octet-stream");let g=document.createElement("a");g.href=k,g.download=`${d}.png`,document.body.appendChild(g),g.click(),document.body.removeChild(g)},children:"Download QR Code"})]}),e("button",{onClick:C,className:"btn btn-primary mt-4",children:"Go To Tickets"})]})});return c(w.Fragment,{children:[d&&e(m,{}),!d&&e("div",{className:"w-full flex flex-row h-[calc(100%-92px)] overflow-y-scroll p-4 m-auto place-content-center",children:c("div",{className:"px-0 mt-4 mx-0",children:[e("div",{onClick:C,className:"btn mt-1 ",children:e(G,{})}),e("div",{className:"w-full my-0 text-center font-semibold text-lg justify-center",children:"Order Summary"}),e("div",{className:"px-0 mt-2 mx-0",children:c("div",{className:"w-full flex flex-row py-2 items-center",children:[e("div",{className:"flex-grow flex flex-col",children:e("div",{className:"pb-[1px] max-w-sm",children:"1 x "+(l==null?void 0:l.name)})}),c("div",{className:"pl-1 font-semibold",children:[`SGD$ ${(l==null?void 0:l.price)||0}.00`," "]})]})}),e("div",{className:"w-full h-[1px] bg-white"}),e("div",{className:"px-0 mt-2 mx-0",children:c("div",{className:"w-full flex flex-row py-2 items-center",children:[e("div",{className:"flex-grow flex flex-col",children:e("div",{className:"pb-[1px] max-w-sm",children:"Subtotal"})}),c("div",{className:"pl-1 font-semibold",children:[`SGD$ ${(l==null?void 0:l.price)||0}.00`," "]})]})}),e("div",{className:"px-0 mt-2 mx-0",children:c("div",{className:"w-full flex flex-row py-2 items-center",children:[e("div",{className:"flex-grow flex flex-col",children:e("div",{className:"pb-[1px] max-w-sm",children:"GST"})}),c("div",{className:"pl-1 font-semibold",children:[`SGD$ ${0}.00`," "]})]})}),e("div",{className:"w-full h-[1px] bg-white"}),e("div",{className:"px-0 mt-2 mx-0",children:c("div",{className:"w-full flex flex-row py-2 items-center",children:[e("div",{className:"flex-grow flex flex-col",children:e("div",{className:"pb-[1px] max-w-sm",children:"Total"})}),c("div",{className:"pl-1 font-semibold",children:[`SGD$ ${(l==null?void 0:l.price)||0}.00`," "]})]})}),e("div",{className:"flex flex-row p-3 w-full justify-around",children:e("button",{onClick:E,disabled:!l||i,className:"btn btn-primary",children:"Place Order"})})]})}),e(M,{show:i})]})},_e=t=>({user:t.App.User}),Ge=t=>({});var Ie=$(_e,Ge)(He);function Qe(t){return c(re,{children:[e(T,{path:f.home,element:e($e,{})}),e(T,{path:f.checkout,element:e(Ie,{})}),e(T,{path:f.address,element:e(ze,{})}),e(T,{path:"*",element:e(Re,{})})]})}var Je="/assets/logo.c873a551.jpeg";const Ve=t=>{const[n,s]=p.exports.useState(!1),{user:l}=t;return c("div",{className:"relative w-full md:px-8 px-4 md:py-5 py-3 flex flex-row justify-between items-center  border-b-[1px] border-base-300",children:[e("div",{className:"w-12 z-10 mx-3",children:c(de,{to:f.home,children:[" ",e("img",{className:"h-9",src:Je})]})}),e("div",{className:"text-2xl m-auto",children:"Adex Ocean Vision 2022"}),l&&c("div",{className:"text-secondary flex flex-row hover",children:[e("div",{className:"font-semibold pt-1 mr-2",children:(l==null?void 0:l.firstName)+""+(l==null?void 0:l.lastName)}),e("button",{onClick:()=>s(!n),"data-dropdown-toggle":"dropdown",className:"hidden sm:inline-block text-gray-500 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 focus:outline-none focus:ring-4  focus:ring-gray-200 dark:focus:ring-gray-700 rounded-lg text-sm p-1.5",type:"button",children:e(Me,{})}),e("div",{className:`${n?"block":"hidden"} text-base list-none bg-white rounded divide-y divide-gray-100 shadow dark:bg-gray-700`,children:c("ul",{class:"py-1","aria-labelledby":"dropdownButton",children:[e("li",{children:e("div",{className:"block py-2 px-4 text-sm text-gray-700 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Tickets"})}),e("li",{children:e("div",{onClick:()=>t.logout(),className:" block py-2 px-4 text-sm text-red-600 hover:bg-gray-100 dark:hover:bg-gray-600 dark:text-gray-200 dark:hover:text-white",children:"Logout"})})]})})]})]})},Ye=t=>({user:t.App.User}),Ke=t=>({logout:()=>t(R.setUser(null))});var We=$(Ye,Ke)(Ve);function Xe(){return e("footer",{className:"items-center min-h-12 footer text-primary-focus place-items-center",children:e("div",{className:"place-items-center text-center ",children:c("p",{children:["\xA9 ",new Date().getFullYear()," Adex Ocean - All right reserved"]})})})}function Ze(t){return e(w.Fragment,{children:e(Te,{children:c("div",{className:"relative w-full min-w-[340px] h-screen flex flex-col",children:[e(We,{}),e(Qe,{}),e(Xe,{})]})})})}const{store:et,persistor:tt}=Ce();me();ue.render(e(w.StrictMode,{children:e(pe,{store:et,children:e(he,{loading:null,persistor:tt,children:e(fe,{children:e(Ze,{})})})})}),document.getElementById("root"));
